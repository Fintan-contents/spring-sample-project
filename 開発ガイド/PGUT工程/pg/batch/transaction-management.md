# トランザクション管理

本プロジェクトのバッチアプリケーションでは、トランザクション管理はSpring Batchの自動制御に任せる。
したがって、アプリケーションでトランザクションを明示的に制御することはない。

トランザクションの単位は、バッチ処理がChunk型かTasklet型かによって異なる。

Chunk型のバッチ処理では、Chunkごとにトランザクションが分かれる。
したがって、`ItemWriter`によってChunkの情報が書き出されるごとにトランザクションはコミットされる。
もしChunkの処理の途中で任意の例外がスローされると、そのChunkのトランザクションはロールバックされる。
ただし、例外がスキップ対象として登録されている場合、ロールバックはされない（スキップの方法については[`Chunk`型のバッチ処理でのエラーハンドリング](error-handling.md#chunk型のバッチ処理でのエラーハンドリング)を参照）。

Tasklet型のバッチ処理では、Taskletの処理全体が1つのトランザクションとなる。
Taskletの処理が正常に終了すると、トランザクションはコミットされる。
もしTaskletの処理が任意の例外をスローすると、トランザクションはロールバックされる。
